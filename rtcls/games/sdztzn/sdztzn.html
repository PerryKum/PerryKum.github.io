<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Steam Deck折腾指南</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link href="/rtcls/rtcls.css" rel="stylesheet">
</head>

<body>
    <!-- Title -->
    <div class="container" id="title_container">
        <ul class="list-group">
            <li class="list-group-item" style="background: #ebebeb;">
                <div class="row pull-right">
                    <div class="col-md-10 col-sm-9 col-xs-12">
                        <h2 id="title"><strong><em>Steam Deck折腾指南<small
                                        class="data">&emsp;2023.07.31</small></em></strong></h2>
                    </div>
                    <div class="col-md-2 col-sm-3 col-xs-2" style="margin-top: 6px;">
                        <button type="button" class="btn btn-secondary"
                            onclick="window.location.href='/index.html'">返回首页</button>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <!-- Article -->
    <div class="container">
        <div class="bg-light article_bg">
            <div class="h3 article article_title"><em>前言</em></div>
            <div class="h6 article">&emsp;&emsp;博主大概是23年2月入了Steam Deck丐版（64G），然后插闪迪红金256G的tf卡玩了小半年，现在已经换了SN740 1T的ssd。
            </div>
            <div class="h6 article">
                &emsp;&emsp;整体体验很好，Deck虽然体积和重量大但是人体工学设计做得不错，双手握持下并不会感觉到很大的压力，适合「靠着或坐着玩，玩累了可以搭在腿上」或「坐在桌子前面，搭在桌面上玩」；躺着玩的话举久了也会很累，搭在肚子上又很为难颈椎，所以不推荐。
            </div>
            <div class="h6 article">
                &emsp;&emsp;至于系统问题，基于Linux的SteamOS折腾起来确实有些门槛，然后也会有一些奇怪的小bug，需要一定的思考能力和动手能力，但SteamOS优秀的界面交互设计非常适合想专心玩游戏的人。博主现在是换了1T的固态装SteamOS，然后用之前的闪迪红金卡做了Win
                to go（Win10），体验下来感觉还是SteamOS更好用一点。</div>
            <div class="h6 article">&emsp;&emsp;本帖主要是记录一些折腾SteamDeck的经验，希望能给同样想折腾SteamDeck的玩家带来一些帮助（长期更新）。</div>
        </div>
        <div class="bg-light article_bg">
            <div class="h3 article article_title"><em>更换固态硬盘（SN740）</em></div>
            <div class="h5 article">一、拆机换固态</div>
            <div class="h6 article">&emsp;&emsp;先将Steam Deck关机（非常重要！！）。</div>
            <div class="h6 article">&emsp;&emsp;Steam Deck机身背面共8颗螺丝(如图)，其中外圈螺丝较长，内圈螺丝较短。建议使用好一点的十字螺丝刀，避免滑丝。</div>
            <img class="article_img" src="/rtcls/games/sdztzn/img1.jpg" onclick="window.open('/rtcls/games/sdztzn/img1.jpg')">
            <div class="h6 article">&emsp;&emsp;拧下螺丝后，两侧机壳是用卡扣连接的，可以用撬片轻轻撬开。</div>
            <div class="h6 article">&emsp;&emsp;接下来是要拆掉屏蔽罩，共3颗螺丝（如图）。</div>
            <img class="article_img" src="/rtcls/games/sdztzn/img2.jpg" onclick="window.open('/rtcls/games/sdztzn/img2.jpg')">
            <div class="h6 article">&emsp;&emsp;然后就可以看见原装固态了，不过为了保险起见，这里建议先断开电源排线再进行后续操作。</div>
            <div class="h6 article">
                &emsp;&emsp;拧下固定原装固态的螺丝（如图）。小心取出并妥善保管，可以在海鲜市场卖50r左右，也可以买个硬盘盒当64G的U盘用（不建议，盘盒比盘还贵）。
            </div>
            <img class="article_img" src="/rtcls/games/sdztzn/img3.jpg" onclick="window.open('/rtcls/games/sdztzn/img3.jpg')">
            <div class="h6 article">&emsp;&emsp;套在原装固态上的这一层是防静电罩，建议取下来保管好，套在新的固态上面；如果你给新固态装了散热铜片，就可以不用装（向商家求证过）。</div>
            <div class="h6 article">
                &emsp;&emsp;接下来就很简单了：将新固态轻轻插进槽中，轻轻按压螺丝一段并拧上固定螺丝，然后接上电源排线，再装上屏蔽罩（记得复原金属贴片，见图2中绿圈），然后扣上机壳（建议从下往上扣，防止机壳被掰弯），拧好螺丝（不要太紧）。要拆机的部分就完成啦！
            </div>
            <div class="h5 article">二、重新写入SteamOS系统</div>
            <div class="h6 article">&emsp;&emsp;1、准备一个8G以上的空U盘（最好是USB3.0，不然后面会很痛苦）和USB-TypeC转接器。</div>
            <div class="h6 article">&emsp;&emsp;2、搜索「Steam Deck恢复指示说明」或 <a
                    href="https://help.steampowered.com/zh-cn/faqs/view/1b71-edf2-eb6d-2bb3"
                    target="_blank">点击此处</a>，下载恢复镜像和写入工具（如图）。</div>
            <img class="article_img" src="/rtcls/games/sdztzn/img4.jpg" onclick="window.open('/rtcls/games/sdztzn/img4.jpg')">
            <div class="h6 article">&emsp;&emsp;3、打开Rufus，设备选择U盘，引导类型选择SteamOS的恢复镜像，点击开始将镜像写入U盘（注意：U盘会被格式化）。</div>
            <img class="article_img" src="/rtcls/games/sdztzn/img5.jpg" onclick="window.open('/rtcls/games/sdztzn/img5.jpg')">
            <div class="h6 article">&emsp;&emsp;4、将U盘通过USB-TypeC转接头插上Steam Deck，按住「音量-」再按开机键，听到开机音效后松开，进入Boot
                Manager界面，选择你的U盘作为启动项（我刷完了，所以这里没有图），并在进入OS后双击「Reimage Steam Deck」（如图）。</div>
            <img class="article_img" src="/rtcls/games/sdztzn/img6.jpg" onclick="window.open('/rtcls/games/sdztzn/img6.jpg')">
            <div class="h6 article">&emsp;&emsp;5、等待刷机结束、进入系统、安装完成后就大功告成啦（弹窗一律点Process即可）。</div>
        </div>
        <div class="bg-light article_bg">
            <div class="h3 article article_title"><em>配置代理（ToMoon插件）</em></div>
            <div class="h6 article">&emsp;&emsp;1、设置-系统设置-启用开发者模式。</div>
            <div class="h6 article">&emsp;&emsp;2、设置-开发者-打开CFE远程调试-重启Steam Deck。</div>
            <div class="h6 article">&emsp;&emsp;3、长按电源键，选择切换至桌面。</div>
            <div class="h6 article">&emsp;&emsp;4、打开Konsole。</div>
            <div class="h6 article">&emsp;&emsp;5、输入<code> curl -L http://dl.ohmydeck.net | sh </code>安装 Plugin Loader。
            </div>
            <div class="h6 article">&emsp;&emsp;6、输入<code> curl -L http://i.ohmydeck.net | sh </code>安装 ToMoon。</div>
            <div class="h6 article">&emsp;&emsp;7、安装完毕后，回到游戏模式，点击「· · ·」键，会发现最下方多了个Plugin图标，里面有ToMoon插件。</div>
            <div class="h6 article">&emsp;&emsp;8、点击「Manage Subscriptions」，在输入框中输入服务商提供的 Clash
                订阅链接并下载，然后回到ToMoon选择订阅并点击「Enable Clash」启动。</div>
            <div class="h6 article">&emsp;&emsp;9、点击「Open
                Dashboard」可以进入仪表盘，在桌面模式下可以通过访问<code> 127.0.0.1:9090/ui </code>打开仪表盘。</div>
            <div class="h6 article">&emsp;&emsp;注：若因某些原因导致无法上网，可以用「 · · · 键-Decky-To Moon-Tools-Reset
                Network」解决；若插件丢失，可以在桌面模式下恢复DNS，即在Konsole中依次输入：</div>
            <div class="h6 article">&emsp;&emsp;&emsp;&emsp;<code>sudo chattr -i /etc/resolv.conf</code></div>
            <div class="h6 article">&emsp;&emsp;&emsp;&emsp;<code>sudo systemctl stop systemd-resolved</code></div>
            <div class="h6 article">
                &emsp;&emsp;&emsp;&emsp;<code>sudo chmod a+w /etc/NetworkManager/conf.d/dns.conf</code></div>
            <div class="h6 article">
                &emsp;&emsp;&emsp;&emsp;<code>sudo echo -e "[main]\ndns=auto"  > /etc/NetworkManager/conf.d/dns.conf</code>
            </div>
            <div class="h6 article">&emsp;&emsp;&emsp;&emsp;<code>sudo nmcli general reload</code></div>
        </div>
        <div class="bg-light article_bg">
            <div class="h3 article article_title"><em>TF卡刷Win to go（Win10）</em></div>
            <div class="h6 article">&emsp;&emsp;1、准备要做Win to go的tf卡（建议选择质量好的高速卡）和读卡器（建议USB3.0）。</div>
            <div class="h6 article">&emsp;&emsp;2、<a href="https://next.itellyou.cn/" target="_blank">点击此处</a>
                获取Windows10/11镜像（以Win10为例）。</div>
            <img class="article_img" src="/rtcls/games/sdztzn/img7.jpg" onclick="window.open('/rtcls/games/sdztzn/img7.jpg')">
            <div class="h6 article">&emsp;&emsp;3、将tf卡通过读卡器接入电脑，右键Win10镜像文件并装载。</div>
            <div class="h6 article">&emsp;&emsp;4、<a href="https://pan.baidu.com/s/1ohVzEJ-F3wyvSEvrcqlKhw?pwd=tal1"
                    target=" _blank">点击此处</a> 获取 Win to
                go 写入工具，解压后运行：点击「浏览」选择装填的Win10镜像中的「X:\sources\install.wim」文件，可移动设备选择tf卡，然后点击「部署」即可，期间会反复弹出/装填tf卡，建议此时不要操作电脑直到出现进度条为止，等待提示部署完成。整个部署过程大概需要10~30分钟（视tf卡和读卡器的质量而定）。
            </div>
            <img class="article_img" src="/rtcls/games/sdztzn/img8.jpg" onclick="window.open('/rtcls/games/sdztzn/img8.jpg')">
            <div class="h6 article">&emsp;&emsp;5、将tf卡插入Steam Deck，按住「音量-」再按开机键，听到开机音效后松开，进入Boot
                Manager界面，启动项选择tf卡，等待开机。</div>
            <div class="h6 article">
                &emsp;&emsp;6、开机后按流程进行Windows准备设置。此时由于没有WiFi驱动，因此点击「我没有Internet连接」跳过网络设置；在「开始-设置-屏幕-显示方向」中可以改为横向显示。
            </div>
            <div class="h6 article">&emsp;&emsp;7、<a href="https://pan.baidu.com/s/1t5icbudUq1beZ1c9ZyrlzA?pwd=9fli"
                    target="_blank">点击此处</a>
                获取驱动包，解压缩后导入tf卡中（可以用放进U盘里，用转接头插入Deck导入；也可以关机拔下tf卡，用读卡器插入电脑导入），依次安装各驱动，全部安装完毕后重启即可。</div>
            <div class="h6 article">
                &emsp;&emsp;注：手柄驱动的解决方案：Steam原生的手柄驱动还是非常好用的，因此建议在Windows系统下下载Steam，然后将非Steam游戏通过Steam创建桌面快捷方式并运行；有一款手柄驱动叫「<a
                    href="https://github.com/Valkirie/HandheldCompanion/" target="_blank">Handheld
                    Companion</a>」，其中的热键功能非常好用（如设置功率、呼出任务管理器等），但按键映射功能没有Steam原生驱动好用且冲突，因此博主选择将HC中的按键映射全部清空（包括手柄模式和键鼠模式，需要一点折腾），只保留热键映射（也就是说单纯把它变成热键软件），然后用Steam原生的手柄驱动玩游戏，体验还是挺不错的。
            </div>
            <img class="article_img" src="/rtcls/games/sdztzn/img9.jpg" onclick="window.open('/rtcls/games/sdztzn/img9.jpg')">
        </div>
        <div class="bg-light article_bg">
            <div class="h3 article article_title"><em>配置GE兼容层</em></div>
            <div class="h6 article">&emsp;&emsp;1、切换至桌面模式，打开「discover」（应用商店），搜索「ProtonUp-Qt」并点击「Install」下载。</div>
            <div class="h6 article">&emsp;&emsp;2、打开ProtonUp-Qt，点击「Add
                version」，在「Compatibility」中选择「GE-Proton」一项，在「Version」中选择想要的版本（一般无特殊需求选择最新版即可），然后点击「Install」并等待安装完毕。</div>
            <div class="h6 article">&emsp;&emsp;3、想要使用GE兼容层的游戏，在「属性-兼容性」中勾选「强制使用特定Steam Play兼容性工具」，然后下拉菜单选择版本即可。</div>
            <div class="h6 article">&emsp;&emsp;注：部分游戏可能会出现中文字丢失的现象（如《地精公司》），使用GE兼容层可以解决。</div>
        </div>
        <div class="bg-light article_bg">
            <div class="h3 article article_title"><em>SteamOS装Epic</em></div>
            <div class="h6 article">&emsp;&emsp;1、切换至桌面模式，用火狐浏览器进入Epic官网，下载「EpicInstaller.msi」（或用U盘从PC端拷贝）。</div>
            <div class="h6 article">&emsp;&emsp;2、打开Steam，选择「添加非Steam游戏」，路径为「Home/Deck/Downloads」，文件类型选「All
                Files」，添加「EpicInstaller.msi」。</div>
            <div class="h6 article">&emsp;&emsp;3、在Steam库中右键刚添加的「EpicInstaller.msi」，点击「属性」，在「兼容性」中勾选「强制使用特定Steam
                Play兼容性工具」，然后下拉菜单选择最新的GE兼容层（关于GE兼容层的配置见本篇中“配置GE兼容层”部分）。</div>
            <div class="h6 article">
                &emsp;&emsp;4、在「快捷方式」中的「启动选项」框内输入<code> STEAM_COMPAT_MOUNTS=/run/media/mmcblk0p1/ %COMMAND% </code>，这一步是为了让应用程序能够访问你的tf卡。
            </div>
            <div class="h6 article">&emsp;&emsp;5、通过Steam运行「EpicInstaller.msi」，按流程安装完毕。</div>
            <div class="h6 article">
                &emsp;&emsp;6、在Steam库中右键刚添加的「EpicInstaller.msi」，点击「属性」，将「目标」改为「home/deck/share/Steam/compatdata/xxxxxxxx/pfx/drive
                c/Program Files(x86)/Epic
                Games/Launcher/Poratal/Binaries/Win32/EpicGamesLauncher.exe」，其中「xxxxxxxx」为一串数字，每个人的都不尽相同，可以自己找一下。</div>
            <div class="h6 article">&emsp;&emsp;7、（强迫症可选）将名称「EpicInstaller.msi」改为「Epic」。</div>
            <div class="h6 article">&emsp;&emsp;8、回到游戏模式，就可以在「非Steam」中看到Epic啦。</div>
        </div>
    </div>
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
    crossorigin="anonymous"></script>

</html>