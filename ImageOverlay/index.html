<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ImageOverlay</title>
    <meta name="description" content="让任意 PNG 遮罩强行显示在屏幕顶层，不依赖模拟器内置功能。支持快速使用、分组预设、默认配置与快捷设置磁贴，双存储模式（传统路径/SAF），GPL-3.0 开源。" />
    <style>
      :root {
        --bg: #0f1220;
        --bg-soft: #13162b;
        --text: #e6e7ef;
        --muted: #9aa0b4;
        --primary: #7c5cff;
        --primary-weak: #7c5cff22;
        --card: #171a31;
        --border: #2a2f47;
      }
      * { box-sizing: border-box; }
      html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font: 16px/1.6 -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif; }
      a { color: var(--primary); text-decoration: none; }
      a:hover { text-decoration: underline; }
      code, kbd { background: var(--bg-soft); border: 1px solid var(--border); padding: 0.12rem 0.35rem; border-radius: 6px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
      .container { max-width: 960px; margin: 0 auto; padding: 0 20px; }
      .hero { padding: 72px 0 48px; background: radial-gradient(1200px 500px at 50% -50%, var(--primary-weak), transparent); border-bottom: 1px solid var(--border); }
      .hero h1 { font-size: 36px; margin: 0 0 12px; }
      .hero p { margin: 0 0 20px; color: var(--muted); font-size: 18px; }
      .cta { display: flex; gap: 12px; flex-wrap: nowrap; margin-top: 12px; align-items: center; }
      .cta .more { display: inline-flex; gap: 12px; overflow: hidden; max-width: 0; transition: max-width .35s ease; white-space: nowrap; align-items: center; will-change: max-width; }
      .cta.open .more { max-width: 1000px; }
      .btn { display: inline-block; padding: 10px 14px; border-radius: 10px; border: 1px solid var(--border); background: var(--card); color: var(--text); }
      .btn .icon { width: 16px; height: 16px; margin-right: 8px; fill: currentColor; vertical-align: -3px; }
      .btn.primary { background: var(--primary); border-color: transparent; color: white; }
      .btn:hover { filter: brightness(1.06); }
      .nav { position: sticky; top: 0; backdrop-filter: blur(8px); background: color-mix(in oklab, var(--bg) 92%, transparent); border-bottom: 1px solid var(--border); z-index: 10; }
      .nav .inner { display: flex; gap: 16px; align-items: center; height: 56px; }
      .nav a { color: var(--muted); font-size: 14px; }
      .nav a:hover { color: var(--text); }
      section { padding: 36px 0; border-bottom: 1px solid var(--border); }
      h2 { font-size: 22px; margin: 0 0 12px; }
      h3 { font-size: 18px; margin: 20px 0 6px; color: var(--text); }
      ul { margin: 8px 0 0 18px; }
      li { margin: 6px 0; }
      .muted { color: var(--muted); }
      .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px; }
      .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 16px; }
      .two-col > * { grid-column: span 12; }
      @media (min-width: 880px) { .two-col > * { grid-column: span 6; } }
      footer { padding: 40px 0; color: var(--muted); font-size: 14px; }
    </style>
  </head>
  <body>
    <header class="hero">
      <div class="container">
        <h1>ImageOverlay —— 安卓掌机全局遮罩工具</h1>
        <p>让任意 PNG 遮罩“强行”显示在屏幕顶层，不依赖模拟器内置功能。</p>
        <div class="cta" id="cta">
          <a class="btn primary toggle" href="javascript:void(0)">开始使用</a>
          <div class="more">
            <a class="btn" href="https://github.com/PerryKum/ImageOverlay" target="_blank" rel="noopener" title="GitHub">
              <svg class="icon" viewBox="0 0 16 16" aria-hidden="true"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8Z"/></svg>
              Github
            </a>
            <a class="btn" href="https://wwqt.lanzoum.com/iupe0340kywj" target="_blank" rel="noopener" title="蓝奏云盘">
              <svg class="icon" viewBox="0 0 16 16" aria-hidden="true"><path d="M4 10a4 4 0 1 1 7.9-1.1A3 3 0 1 1 12 14H5a3 3 0 0 1-1-5.8Z"/><path d="M8 7.5a.5.5 0 0 1 .5.5v3.38l.97-.97a.5.5 0 1 1 .71.71l-1.9 1.9a.75.75 0 0 1-1.06 0l-1.9-1.9a.5.5 0 1 1 .71-.71l.97.97V8a.5.5 0 0 1 .5-.5Z"/></svg>
              蓝奏云盘(53ni)
            </a>
            <a class="btn" href="https://pan.baidu.com/s/1U_-mBubRohp-l8uAL3OKfA?pwd=kh2a" target="_blank" rel="noopener" title="百度网盘">
              <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M3.5 12c0-2.485 2.015-4.5 4.5-4.5 2.3 0 3.94 1.46 4.75 2.6.81-1.14 2.45-2.6 4.75-2.6 2.485 0 4.5 2.015 4.5 4.5s-2.015 4.5-4.5 4.5c-2.3 0-3.94-1.46-4.75-2.6-.81 1.14-2.45 2.6-4.75 2.6-2.485 0-4.5-2.015-4.5-4.5Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              百度网盘
            </a>
          </div>
        </div>
      </div>
    </header>

    <nav class="nav">
      <div class="container inner">
        <a href="#why">为什么</a>
        <a href="#features">功能</a>
        <a href="#scenarios">场景</a>
        <a href="#usage">使用</a>
        <a href="#permissions">权限</a>
        <a href="#faq">FAQ</a>
        <a href="#contact">联系</a>
      </div>
    </nav>

    <main class="container">
      <section id="why">
        <h2>为什么需要它？</h2>
        <p><strong>很多安卓掌机的痛点：性能更好的模拟器往往不支持遮罩，支持遮罩的模拟器又不够高效。</strong></p>
        <p>ImageOverlay 通过系统悬浮窗把你指定的遮罩图层铺在最前面，实现“全局遮罩”。无需改动或切换模拟器，任何应用都能叠加显示。</p>
      </section>

      <section id="features">
          <h2>功能特色</h2>
          <ul>
            <li><strong>快速使用</strong>：一键选择图片并启动/关闭遮罩，适合临时需求。</li>
            <li><strong>预设分组</strong>：按“组”管理多份遮罩配置（<code>组/配置</code>），便于分类与切换。</li>
            <li><strong>默认配置与磁贴</strong>：支持设为默认配置，并通过快捷设置磁贴（Quick Settings Tile）一键启停默认遮罩。</li>
            <li><strong>无侵入</strong>：不改动模拟器或游戏，无需 Root。</li>
            <li><strong>前台服务</strong>：通过前台通知保持稳定运行。</li>
          </ul>
      </section>

      <section id="scenarios">
        <h2>典型场景</h2>
        <ul>
          <li>模拟器遮罩</li>
          <li>准星/对齐辅助、按键位图提示</li>
          <li>画面对齐、色弱/色盲辅助等</li>
        </ul>
      </section>

      <section id="usage">
        <h2>使用指南</h2>
        <h3>1) 快速使用（无需预设）</h3>
        <ol>
          <li>打开应用 → 底部导航选择“快速使用”。</li>
          <li>点击“选择图片”，挑选一张 PNG。</li>
          <li>首次使用会引导授予“在其他应用上层显示”的悬浮窗权限。</li>
          <li>点击“启动遮罩”开始，需停止时点击“关闭遮罩”。</li>
        </ol>
        <p class="muted">提示：如果已有“预设”处于激活状态，将无法从“快速使用”再次启动（设计为互斥）。</p>

        <h3>2) 预设与分组</h3>
        <ol>
          <li>底部导航选择“预设”。</li>
          <li>右上角“+”新建组（如：某游戏/某分辨率）。</li>
          <li>进入组 → “+” 新建配置，选择 PNG 图片；保存后列表中可见。</li>
          <li>点击配置行左侧状态圆点：绿色为激活，红色为未激活。激活会自动停用其他配置/快速使用遮罩。</li>
        </ol>

        <h3>3) 默认配置与磁贴</h3>
        <ul>
          <li>在组内长按配置 → 选择“设为默认配置”。</li>
          <li>在“预设”页顶部可看到默认配置信息与启停状态。</li>
          <li>下拉系统快捷设置，添加“ImageOverlay 切换”磁贴，即可一键启停默认遮罩。</li>
        </ul>
      </section>

      <section id="permissions">
        <h2>权限说明</h2>
        <ul>
          <li><code>SYSTEM_ALERT_WINDOW</code>：用于在最前层显示遮罩。</li>
          <li><code>FOREGROUND_SERVICE</code>：前台服务维持遮罩稳定运行。</li>
        </ul>
        <p class="muted">应用不访问网络，不上传任何数据；所有配置与图片均保存在本地你指定的位置。</p>
      </section>

      <section id="faq">
        <h2>常见问题（FAQ）</h2>
        <h3>看不到遮罩？</h3>
        <ul>
          <li>请确认已授予“在其他应用上层显示”的权限；部分系统（如 MIUI 等）需要在系统权限管理中单独允许。</li>
          <li>若使用了分屏/画中画模式，系统层级可能影响显示，请先退出特殊窗口模式再试。</li>
        </ul>
        <h3>预设和快速使用为何不能同时开？</h3>
        <p>为避免多重遮罩叠加造成性能与显示混乱，二者设计为互斥。</p>
        <h3>选择图片后保存失败或不显示？</h3>
        <ul>
          <li>推荐在“设置”中先选择 SAF 目录；若使用传统路径，请确保目录可写。</li>
          <li>确认图片为 PNG 且未被系统清理；如为外置 SD 卡，请确保已授权读写。</li>
        </ul>
        <h3>遮罩被拉伸/比例不对？</h3>
        <p>当前策略是 <code>FIT_XY</code> 全屏铺满。如果需要等比/位置/透明度等控制，敬请期待或提交 PR。</p>
        <h3>如何彻底清理？</h3>
        <p>在“设置 → 清除缓存”可删除无效图片或全部数据；卸载前也可手动删除授权目录中的 <code>ImageOverlay/</code>。</p>
      </section>

      <section id="contact" class="grid two-col">
        <div class="card">
          <h2>联系与社区</h2>
          <ul>
            <li>QQ 群：<strong>710807742</strong></li>
            <li>作者博客：<a href="https://www.perrykum.top" target="_blank" rel="noopener">perrykum.top</a></li>
            <li>Bilibili：<a href="https://b23.tv/QFKN5JN" target="_blank" rel="noopener">https://b23.tv/QFKN5JN</a></li>
          </ul>
        </div>
        <div class="card">
          <h2>作者的话</h2>
          <p class="muted">作者本职是前端工程师，对安卓软件开发经验略有不足，如有 bug 欢迎反馈、指正。</p>
        </div>
      </section>

      <section id="license">
        <h2>开源许可</h2>
        <p>本项目基于 <strong>GPL-3.0</strong> 许可开源，详见仓库中的 <code>LICENSE</code> 文件。</p>
        <p>您可以随意修改源代码以自用，但如果要分发，请将您的修改开源并继承 <strong>GPL-3.0</strong> 协议。</p>
      </section>
    </main>

    <footer>
      <div class="container">
        <div class="muted">© ImageOverlay. 以 GPL-3.0 开源发布。</div>
      </div>
    </footer>
  </body>
  <script>
    (function() {
      const cta = document.getElementById('cta');
      if (!cta) return;
      const toggle = cta.querySelector('.toggle');
      const more = cta.querySelector('.more');
      if (!toggle || !more) return;

      function open() { cta.classList.add('open'); }
      function close() { cta.classList.remove('open'); }
      function isOpen() { return cta.classList.contains('open'); }

      toggle.addEventListener('click', function(e) {
        e.stopPropagation();
        isOpen() ? close() : open();
      });
      more.addEventListener('click', function(e) { e.stopPropagation(); });
      document.addEventListener('click', function() { if (isOpen()) close(); });
    })();
  </script>
  </html>


